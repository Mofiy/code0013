# code0013
class for keep trading history in DB

В этом коде есть методы:

`__init__(self, api_key, api_secret, db_name)`: конструктор класса, который принимает ключ API и секретный ключ API для подключения к бирже Binance, а также имя базы данных SQLite для хранения записей о сделках и позициях.

`_create_tables(self)`: приватный метод, который создает таблицы в базе данных, если они еще не существуют.

`place_order(self, symbol, side, quantity, price=None)`: метод, который размещает ордер на бирже Binance для заданного символа symbol, направления side (BUY или SELL), количества quantity и опционально цены price. Если цена не указана, то ордер будет размещен по текущей рыночной цене.

`_log_trade(self, symbol, side, quantity, price, time)`: приватный метод, который записывает информацию о размещенном ордере в таблицу trades базы данных.

`get_open_positions(self)`: метод, который возвращает список открытых позиций, полученных из биржи Binance.

`close_position(self, symbol, quantity=None)`: метод, который закрывает открытую позицию для заданного символа symbol. Если количество не указано, то позиция будет закрыта полностью. Для закрытия позиции используется метод place_order() с противоположным направлением и тем же количеством.

`_update_position(self, symbol, quantity, entry_price, entry_time, exit_price, exit_time)`: приватный метод, который записывает информацию о закрытой позиции в таблицу positions базы данных.

`place_order_max_amount(self, symbol, side)`: этот метод использует метод get_account() для получения информации о балансе пользователя. Затем он вычисляет максимально доступную сумму на основе доступного баланса и текущей цены символа. Количество символов округляется до шести знаков после запятой. Наконец, метод вызывает place_order() с вычисленной суммой.
